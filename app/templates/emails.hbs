{{#if hasError}}
  {{error}}
{{/if}}

{{outlet}}

{{#if isLoading}}
  <div class="flex items-center text-off-white h-24">
    <span class="flex-1 text-center">loading...</span>
  </div>
{{else}}
  {{#vertical-collection
      emails
      tagName='div'
      class="px-3"
      estimateHeight=600
      staticHeight=false
      bufferSize=1
      containerSelector="body"
      as |e i|}}
    <EmailCard @date={{e.date}} @subject={{e.subject}} @body={{e.body}} @position="{{add i 1}}/{{emails.length}}" />
  {{/vertical-collection}}
{{/if}}
